"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const BaseService = require('./BaseService');
const needle = require('needle');
const process = require('process');
const deflateRaw = require('zlib');
const { inflate } = require('zlib');
const iconv = require('iconv-lite');
const bufkey = Buffer.from('yeelion');
const bufkeylen = bufkey.length;
const buildParams = (id, isGetLyricx) => {
    let params = `user=12345,web,web,web&requester=localhost&req=1&rid=MUSIC_${id}`;
    if (isGetLyricx)
        params += '&lrcx=1';
    const bufstr = Buffer.from(params);
    const bufstrlen = bufstr.length;
    const output = new Uint16Array(bufstrlen);
    let i = 0;
    while (i < bufstrlen) {
        let j = 0;
        while (j < bufkeylen && i < bufstrlen) {
            output[i] = bufkey[j] ^ bufstr[i];
            i++;
            j++;
        }
    }
    return Buffer.from(output).toString('base64');
};
const cancelHttp = requestObj => {
    // console.log(requestObj)
    if (!requestObj)
        return;
    // console.log('cancel:', requestObj)
    if (!requestObj.abort)
        return;
    requestObj.abort();
};
const requestMsg = {
    fail: '请求异常，可以多试几次，若还是不行就换一首吧',
    unachievable: '哦No...接口无法访问了！',
    timeout: '请求超时',
    // unachievable: '哦No...接口无法访问了！已帮你切换到临时接口，重试下看能不能播放吧~',
    notConnectNetwork: '无法连接到服务器',
    cancelRequest: '取消http请求',
};
const request = (url, options, callback) => {
    let data;
    if (options.body) {
        data = options.body;
    }
    else if (options.form) {
        data = options.form;
        // data.content_type = 'application/x-www-form-urlencoded'
        options.json = false;
    }
    else if (options.formData) {
        data = options.formData;
        // data.content_type = 'multipart/form-data'
        options.json = false;
    }
    options.response_timeout = options.timeout;
    return needle.request(options.method || 'get', url, data, options, (err, resp, body) => {
        if (!err) {
            body = resp.body = resp.raw.toString();
            try {
                resp.body = JSON.parse(resp.body);
            }
            catch (_) { }
            body = resp.body;
        }
        callback(err, resp, body);
    }).request;
};
const defaultHeaders = {
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36',
};
const handleDeflateRaw = data => new Promise((resolve, reject) => {
    deflateRaw(data, (err, buf) => {
        if (err)
            return reject(err);
        resolve(buf);
    });
});
const regx = /(?:\d\w)+/g;
const fetchData = async (url, method, _a, callback) => {
    var { headers = {}, format = 'json', timeout = 15000 } = _a, options = tslib_1.__rest(_a, ["headers", "format", "timeout"]);
    headers = Object.assign({}, headers);
    const bHh = '624868746c';
    if (headers[bHh]) {
        const path = url.replace(/^https?:\/\/[\w.:]+\//, '/');
        let s = Buffer.from(bHh, 'hex').toString();
        s = s.replace(s.substr(-1), '');
        s = Buffer.from(s, 'base64').toString();
        const v = process.versions.app.split('-')[0].split('.').map(n => n.length < 3 ? n.padStart(3, '0') : n).join('');
        const v2 = process.versions.app.split('-')[1] || '';
        headers[s] = !s || `${(await handleDeflateRaw(Buffer.from(JSON.stringify(`${path}${v}`.match(regx), null, 1).concat(v)).toString('base64'))).toString('hex')}&${parseInt(v)}${v2}`;
        delete headers[bHh];
    }
    return request(url, Object.assign(Object.assign({}, options), { method, headers: Object.assign({}, defaultHeaders, headers), timeout, json: format === 'json' }), (err, resp, body) => {
        if (err)
            return callback(err, null);
        callback(null, resp, body);
    });
};
const buildHttpPromose = (url, options) => {
    const obj = {
        isCancelled: false,
    };
    obj.promise = new Promise((resolve, reject) => {
        obj.cancelFn = reject;
        // console.log(`\nsend request---${url}`)
        fetchData(url, options.method, options, (err, resp) => {
            // options.isShowProgress && window.api.hideProgress()
            //   console.log(`\nresponse---${url}`)
            //   console.log(body)
            obj.requestObj = null;
            obj.cancelFn = null;
            if (err)
                return reject(err);
            resolve(resp);
        }).then(ro => {
            obj.requestObj = ro;
            if (obj.isCancelled)
                obj.cancelHttp();
        });
    });
    obj.cancelHttp = () => {
        if (!obj.requestObj)
            return obj.isCancelled = true;
        cancelHttp(obj.requestObj);
        obj.requestObj = null;
        obj.promise = obj.cancelHttp = null;
        obj.cancelFn(new Error(requestMsg.cancelRequest));
        obj.cancelFn = null;
    };
    return obj;
};
const httpFetch = (url, options = { method: 'get' }) => {
    const requestObj = buildHttpPromose(url, options);
    requestObj.promise = requestObj.promise.catch(err => {
        if (err.message === 'socket hang up') {
            return Promise.reject(new Error(requestMsg.unachievable));
        }
        switch (err.code) {
            case 'ETIMEDOUT':
            case 'ESOCKETTIMEDOUT':
                return Promise.reject(new Error(requestMsg.timeout));
            case 'ENOTFOUND':
                return Promise.reject(new Error(requestMsg.notConnectNetwork));
            default:
                return Promise.reject(err);
        }
    });
    return requestObj;
};
const lrcTools = {
    rxps: {
        wordLine: /^(\[\d{1,2}:.*\d{1,4}\])\s*(\S+(?:\s+\S+)*)?\s*/,
        tagLine: /\[(ver|ti|ar|al|offset|by|kuwo):\s*(\S+(?:\s+\S+)*)\s*\]/,
        wordTimeAll: /<(-?\d+),(-?\d+)(?:,-?\d+)?>/g,
        wordTime: /<(-?\d+),(-?\d+)(?:,-?\d+)?>/,
    },
    offset: 1,
    offset2: 1,
    isOK: false,
    lines: [],
    tags: [],
    getWordInfo(str, str2, prevWord) {
        const offset = parseInt(str);
        const offset2 = parseInt(str2);
        const startTime = Math.abs((offset + offset2) / (this.offset * 2));
        const endTime = Math.abs((offset - offset2) / (this.offset2 * 2)) + startTime;
        if (prevWord) {
            if (startTime < prevWord.endTime) {
                prevWord.endTime = startTime;
                if (prevWord.startTime > prevWord.endTime) {
                    prevWord.startTime = prevWord.endTime;
                }
                prevWord.newTimeStr = '';
            }
        }
        return {
            startTime,
            endTime,
            timeStr: '',
        };
    },
    parseLine(line) {
        if (line.length < 6)
            return;
        let result = this.rxps.wordLine.exec(line);
        if (result) {
            const time = result[1];
            let words = result[2];
            if (words == null) {
                words = '';
            }
            const wordTimes = words.match(this.rxps.wordTimeAll);
            if (!wordTimes)
                return;
            // console.log(wordTimes)
            let preTimeInfo;
            for (const timeStr of wordTimes) {
                const result = this.rxps.wordTime.exec(timeStr);
                const wordInfo = this.getWordInfo(result[1], result[2], preTimeInfo);
                words = words.replace(timeStr, wordInfo.timeStr);
                if (preTimeInfo === null || preTimeInfo === void 0 ? void 0 : preTimeInfo.newTimeStr)
                    words = words.replace(preTimeInfo.timeStr, preTimeInfo.newTimeStr);
                preTimeInfo = wordInfo;
            }
            this.lines.push(time + words);
            return;
        }
        result = this.rxps.tagLine.exec(line);
        if (!result)
            return;
        if (result[1] === 'kuwo') {
            let content = result[2];
            if (content !== null && content.includes('][')) {
                content = content.substring(0, content.indexOf(']['));
            }
            const valueOf = parseInt(content, 8);
            this.offset = Math.trunc(valueOf / 10);
            this.offset2 = Math.trunc(valueOf % 10);
            if (this.offset === 0 || Number.isNaN(this.offset) || this.offset2 === 0 || Number.isNaN(this.offset2)) {
                this.isOK = false;
            }
        }
        else {
            this.tags.push(line);
        }
    },
    parse(lrc) {
        // console.log(lrc)
        const lines = lrc.split(/\r\n|\r|\n/);
        const tools = Object.create(this);
        tools.isOK = true;
        tools.offset = 1;
        tools.offset2 = 1;
        tools.lines = [];
        tools.tags = [];
        for (const line of lines) {
            if (!tools.isOK)
                throw new Error('failed');
            tools.parseLine(line);
        }
        if (!tools.lines.length)
            return '';
        let lrcs = tools.lines.join('\n');
        if (tools.tags.length)
            lrcs = `${tools.tags.join('\n')}\n${lrcs}`;
        // console.log(lrcs)
        return lrcs;
    },
};
const isGetLyricx = true;
const handleInflate = data => new Promise((resolve, reject) => {
    inflate(data, (err, result) => {
        if (err)
            return reject(err);
        resolve(result);
    });
});
const bufKey = Buffer.from('yeelion');
const bufKeyLen = bufKey.length;
const decodeLyrics = async (buf, isGetLyricx) => {
    if (buf.toString('utf8', 0, 10) !== 'tp=content')
        return '';
    const lrcData = await handleInflate(buf.slice(buf.indexOf('\r\n\r\n') + 4));
    if (!isGetLyricx)
        return iconv.decode(lrcData, 'gb18030');
    const bufStr = Buffer.from(lrcData.toString(), 'base64');
    const bufStrLen = bufStr.length;
    const output = new Uint16Array(bufStrLen);
    let i = 0;
    while (i < bufStrLen) {
        let j = 0;
        while (j < bufKeyLen && i < bufStrLen) {
            output[i] = bufStr[i] ^ bufKey[j];
            i++;
            j++;
        }
    }
    return iconv.decode(Buffer.from(output), 'gb18030');
};
const timeExp = /^\[([\d:.]*)\]{1}/g;
const sortLrcArr = (arr) => {
    const lrcSet = new Set();
    const lrc = [];
    const lrcT = [];
    for (const item of arr) {
        if (lrcSet.has(item.time)) {
            if (lrc.length < 2)
                continue;
            const tItem = lrc.pop();
            tItem.time = lrc[lrc.length - 1].time;
            lrcT.push(tItem);
            lrc.push(item);
        }
        else {
            lrc.push(item);
            lrcSet.add(item.time);
        }
    }
    return {
        lrc,
        lrcT,
    };
};
const parseLrc = (lrc) => {
    const lines = lrc.split(/\r\n|\r|\n/);
    const tags = [];
    const lrcArr = [];
    for (let i = 0; i < lines.length; i++) {
        const line = lines[i].trim();
        const result = timeExp.exec(line);
        if (result) {
            let text = line.replace(timeExp, '').trim();
            let time = RegExp.$1;
            if (/\.\d\d$/.test(time))
                time += '0';
            const regexp = /<.*?>/g;
            text = text.replace(regexp, '').replace(/\[by:.*?\](\n|$)/g, '').replace(/\[kuwo:.*?\](\n|$)/g, '');
            const times = time.split(':');
            time = (parseFloat(times[0]) * 60 + parseFloat(times[1])).toFixed(2);
            lrcArr.push({
                time,
                lineLyric: text,
            });
        }
        else if (lrcTools.rxps.tagLine.test(line)) {
            tags.push(line);
        }
    }
    const lrcInfo = sortLrcArr(lrcArr);
    return lrcInfo;
};
const rendererInvoke = async (params) => {
    const lrc = await decodeLyrics(Buffer.from(params.lrcBase64, 'base64'), isGetLyricx);
    return Buffer.from(lrc).toString('base64');
};
const decodeLyric = base64Data => rendererInvoke(base64Data);
class Lrc extends BaseService {
    async LrcRes(musicId) {
        const requestObj = httpFetch(`http://newlyric.kuwo.cn/newlyric.lrc?${buildParams(musicId, isGetLyricx)}`);
        requestObj.promise = requestObj.promise.then(({ statusCode, body, raw }) => {
            if (statusCode !== 200)
                return Promise.reject(new Error(JSON.stringify(body)));
            return decodeLyric({ lrcBase64: raw.toString('base64'), isGetLyricx }).then(base64Data => {
                let lrcInfo;
                lrcInfo = parseLrc(Buffer.from(base64Data, 'base64').toString());
                try {
                    lrcInfo = parseLrc(Buffer.from(base64Data, 'base64').toString());
                }
                catch (err) {
                    return Promise.reject(new Error('Get lyric failed'));
                }
                const msg = {
                    data: {
                        lrclist: lrcInfo.lrc
                    },
                    status: 200
                };
                return msg;
            });
        });
        const asd = async () => {
            return await new Promise((resolve) => {
                requestObj.promise.then((re) => {
                    resolve(re);
                });
            });
        };
        const as = await asd();
        return as;
        // return this.commonRequest(`http://m.kuwo.cn/newh5/singles/songinfoandlrc?musicId=${musicId}&httpsStatus=1`)
    }
}
exports.default = Lrc;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibHJjLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibHJjLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQTtBQUU1QyxNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDaEMsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFBO0FBQ2xDLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUNsQyxNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQ25DLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQTtBQUVuQyxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFBO0FBQ3JDLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUE7QUFDL0IsTUFBTSxXQUFXLEdBQUcsQ0FBQyxFQUFFLEVBQUUsV0FBVyxFQUFFLEVBQUU7SUFDdEMsSUFBSSxNQUFNLEdBQUcsOERBQThELEVBQUUsRUFBRSxDQUFBO0lBQy9FLElBQUksV0FBVztRQUFFLE1BQU0sSUFBSSxTQUFTLENBQUE7SUFDcEMsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUNsQyxNQUFNLFNBQVMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFBO0lBQy9CLE1BQU0sTUFBTSxHQUFHLElBQUksV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFBO0lBQ3pDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUNULE9BQU8sQ0FBQyxHQUFHLFNBQVMsRUFBRTtRQUNwQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDVCxPQUFPLENBQUMsR0FBRyxTQUFTLElBQUksQ0FBQyxHQUFHLFNBQVMsRUFBRTtZ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